<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8"/>
        <title>Task 10</title>

        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script type="application/javascript">

            function addPostRow (data) {
                $('body').append(
                    $('<p><span>Post created with id ' + data.id + ', title: ' + data.title + ', author: ' + data.author + '</span></p>')
                );
            }

            function listPosts () {
                $.ajax(
                    'http://localhost:3000/posts',
                    {
                        type: "GET",
                        statusCode: {
                            200: function (response) {
                                for (const post of response) {
                                    addPostRow(post);
                                }
                            }
                        },
                        error: function (xhr, statusText, error) {
                            alert('Server Error');
                        }
                    }
                );
            }

            $(document).ready(listPosts);

        </script>
    </head>
    <body></body>
</html>